Using profile workflow/profiles/default and workflow specific profile workflow/profiles/default for setting default command line arguments.
/nas/longleaf/home/adaigle/TEforest/workflow/Snakefile:183: SyntaxWarning: invalid escape sequence '\/'
  process_regions_hettraining_script = (
/nas/longleaf/home/adaigle/TEforest/workflow/Snakefile:184: SyntaxWarning: invalid escape sequence '\/'
  workflow.basedir + "/scripts/process_candidate_regions_train_syn_heterozygotes.r"
/nas/longleaf/home/adaigle/TEforest/workflow/Snakefile:191: SyntaxWarning: invalid escape sequence '\/'
  return sample_parts[0], sample_parts[1]
/nas/longleaf/home/adaigle/TEforest/workflow/Snakefile:191: SyntaxWarning: invalid escape sequence '\/'
  return sample_parts[0], sample_parts[1]
/nas/longleaf/home/adaigle/TEforest/workflow/Snakefile:222: SyntaxWarning: invalid escape sequence '\/'
  sample1=lambda wildcards: split_sample(wildcards)[0],
/nas/longleaf/home/adaigle/TEforest/workflow/Snakefile:223: SyntaxWarning: invalid escape sequence '\/'
  sample2=lambda wildcards: split_sample(wildcards)[1],
/nas/longleaf/home/adaigle/TEforest/workflow/Snakefile:230: SyntaxWarning: invalid escape sequence '\/'
  threads: config["threads"]
/nas/longleaf/home/adaigle/TEforest/workflow/Snakefile:230: SyntaxWarning: invalid escape sequence '\/'
  threads: config["threads"]
Assuming unrestricted shared filesystem usage for local execution.
Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 32
Rules claiming more threads will be scaled down.
Job stats:
job                                    count
-----------------------------------  -------
aggregate_organized_reference              1
organize_training_data_reference           3
train_validate_classifier_reference        3
train_validate_reference                   3
total                                     10

Select jobs to execute...
Execute 1 jobs...

[Wed May 29 13:51:20 2024]
localcheckpoint organize_training_data_reference:
    input: feature_vectors_het_reference/AKA-017_GIM-024
    output: 2L2R_reference/AKA-017_GIM-024.txt, 3L3RX_reference/AKA-017_GIM-024.txt
    jobid: 10
    reason: Missing output files: 2L2R_reference/AKA-017_GIM-024.txt, 3L3RX_reference/AKA-017_GIM-024.txt
    wildcards: sample=AKA-017_GIM-024
    threads: 32
    resources: tmpdir=/tmp
DAG of jobs will be updated after completion.

bash /nas/longleaf/home/adaigle/TEforest/workflow/scripts/organize_training_data_reference.sh -s AKA-017_GIM-024
Current directory: /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2
Output directory exists
Output directory exists
/work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/A2_A3 /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/AKA-017_GIM-024 /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/JUT-008_MUN-009
[Wed May 29 13:52:08 2024]
Finished job 10.
1 of 10 steps (10%) done
Select jobs to execute...
Execute 1 jobs...

[Wed May 29 13:52:08 2024]
localcheckpoint organize_training_data_reference:
    input: feature_vectors_het_reference/A2_A3
    output: 2L2R_reference/A2_A3.txt, 3L3RX_reference/A2_A3.txt
    jobid: 1
    reason: Missing output files: 3L3RX_reference/A2_A3.txt, 2L2R_reference/A2_A3.txt
    wildcards: sample=A2_A3
    threads: 32
    resources: tmpdir=/tmp
DAG of jobs will be updated after completion.

bash /nas/longleaf/home/adaigle/TEforest/workflow/scripts/organize_training_data_reference.sh -s A2_A3
Current directory: /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2
Output directory exists
Output directory exists
/work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/A2_A3 /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/AKA-017_GIM-024 /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/JUT-008_MUN-009
[Wed May 29 13:52:52 2024]
Finished job 1.
2 of 10 steps (20%) done
Select jobs to execute...
Execute 1 jobs...

[Wed May 29 13:52:52 2024]
localcheckpoint organize_training_data_reference:
    input: feature_vectors_het_reference/JUT-008_MUN-009
    output: 2L2R_reference/JUT-008_MUN-009.txt, 3L3RX_reference/JUT-008_MUN-009.txt
    jobid: 18
    reason: Missing output files: 2L2R_reference/JUT-008_MUN-009.txt, 3L3RX_reference/JUT-008_MUN-009.txt
    wildcards: sample=JUT-008_MUN-009
    threads: 32
    resources: tmpdir=/tmp
DAG of jobs will be updated after completion.

bash /nas/longleaf/home/adaigle/TEforest/workflow/scripts/organize_training_data_reference.sh -s JUT-008_MUN-009
Current directory: /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2
Output directory exists
Output directory exists
/work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/A2_A3 /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/AKA-017_GIM-024 /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/JUT-008_MUN-009
[Wed May 29 13:53:38 2024]
Finished job 18.
3 of 10 steps (30%) done
Select jobs to execute...
Execute 1 jobs...

[Wed May 29 13:53:38 2024]
localrule aggregate_organized_reference:
    output: all_ref_samples_organized.txt
    jobid: 8
    reason: Missing output files: all_ref_samples_organized.txt
    resources: tmpdir=/tmp

Touching output file all_ref_samples_organized.txt.
[Wed May 29 13:53:38 2024]
Finished job 8.
4 of 10 steps (40%) done
Select jobs to execute...
Execute 1 jobs...

[Wed May 29 13:53:38 2024]
localrule train_validate_classifier_reference:
    input: 2L2R_reference/AKA-017_GIM-024.txt, 3L3RX_reference/AKA-017_GIM-024.txt, all_ref_samples_organized.txt
    output: 2L2R_classifer_reference/AKA-017_GIM-024.txt, 3L3RX_classifer_reference/AKA-017_GIM-024.txt
    jobid: 16
    reason: Input files updated by another job: all_ref_samples_organized.txt
    wildcards: sample=AKA-017_GIM-024
    threads: 32
    resources: tmpdir=/tmp

bash /nas/longleaf/home/adaigle/TEforest/workflow/scripts/featvec_training_validation_heterozygotes_classifier_reference.sh -t /nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py -c /nas/longleaf/home/adaigle/TEforest/workflow/scripts/condense_training_data.py -s AKA-017_GIM-024 -v /nas/longleaf/home/adaigle/TEforest/workflow/scripts/use_model.py
Current directory: /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2
/work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/A2_A3 /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/AKA-017_GIM-024 /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/feature_vectors_het_reference/JUT-008_MUN-009
File /work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/2L2R_reference/svrf_all.pkl does not exist. Continuing script.
Output directory exists
Output directory exists
/nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py:6: DeprecationWarning: 
Pyarrow will become a required dependency of pandas in the next major release of pandas (pandas 3.0),
(to allow more performant data types, such as the Arrow string type, and better interoperability with other libraries)
but was not found to be installed on your system.
If this would cause problems for you,
please provide us feedback at https://github.com/pandas-dev/pandas/issues/54466
        
  import pandas as pd
[info] Loading data
Traceback (most recent call last):
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py", line 294, in <module>
    main()
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py", line 262, in main
    data_dict = load_data(ap.infile, ap.outdir)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py", line 21, in load_data
    sv_data = np.load(infile)
              ^^^^^^^^^^^^^^^
  File "/work/users/a/d/adaigle/.conda/envs/TEforest/lib/python3.12/site-packages/numpy/lib/npyio.py", line 427, in load
    fid = stack.enter_context(open(os_fspath(file), "rb"))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/2L2R_reference/condense.npz'
/nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py:6: DeprecationWarning: 
Pyarrow will become a required dependency of pandas in the next major release of pandas (pandas 3.0),
(to allow more performant data types, such as the Arrow string type, and better interoperability with other libraries)
but was not found to be installed on your system.
If this would cause problems for you,
please provide us feedback at https://github.com/pandas-dev/pandas/issues/54466
        
  import pandas as pd
[info] Loading data
Traceback (most recent call last):
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py", line 294, in <module>
    main()
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py", line 262, in main
    data_dict = load_data(ap.infile, ap.outdir)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py", line 21, in load_data
    sv_data = np.load(infile)
              ^^^^^^^^^^^^^^^
  File "/work/users/a/d/adaigle/.conda/envs/TEforest/lib/python3.12/site-packages/numpy/lib/npyio.py", line 427, in load
    fid = stack.enter_context(open(os_fspath(file), "rb"))
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/3L3RX_reference/condense.npz'
/nas/longleaf/home/adaigle/TEforest/workflow/scripts/use_model.py:7: DeprecationWarning: 
Pyarrow will become a required dependency of pandas in the next major release of pandas (pandas 3.0),
(to allow more performant data types, such as the Arrow string type, and better interoperability with other libraries)
but was not found to be installed on your system.
If this would cause problems for you,
please provide us feedback at https://github.com/pandas-dev/pandas/issues/54466
        
  import pandas as pd
Traceback (most recent call last):
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/use_model.py", line 117, in <module>
    main()
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/use_model.py", line 59, in main
    with open(ap.model, "rb") as f:
         ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/2L2R_reference/svrf_classifier_all.pkl'
/nas/longleaf/home/adaigle/TEforest/workflow/scripts/use_model.py:7: DeprecationWarning: 
Pyarrow will become a required dependency of pandas in the next major release of pandas (pandas 3.0),
(to allow more performant data types, such as the Arrow string type, and better interoperability with other libraries)
but was not found to be installed on your system.
If this would cause problems for you,
please provide us feedback at https://github.com/pandas-dev/pandas/issues/54466
        
  import pandas as pd
Traceback (most recent call last):
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/use_model.py", line 117, in <module>
    main()
  File "/nas/longleaf/home/adaigle/TEforest/workflow/scripts/use_model.py", line 59, in main
    with open(ap.model, "rb") as f:
         ^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/work/users/a/d/adaigle/test_TEforest/full_model_improved_consensus_revertedfiltering2/3L3RX_reference/svrf_classifier_all.pkl'
[Wed May 29 13:53:43 2024]
Error in rule train_validate_classifier_reference:
    jobid: 16
    input: 2L2R_reference/AKA-017_GIM-024.txt, 3L3RX_reference/AKA-017_GIM-024.txt, all_ref_samples_organized.txt
    output: 2L2R_classifer_reference/AKA-017_GIM-024.txt, 3L3RX_classifer_reference/AKA-017_GIM-024.txt
    shell:
        bash /nas/longleaf/home/adaigle/TEforest/workflow/scripts/featvec_training_validation_heterozygotes_classifier_reference.sh -t /nas/longleaf/home/adaigle/TEforest/workflow/scripts/train_rf_model_classifier.py -c /nas/longleaf/home/adaigle/TEforest/workflow/scripts/condense_training_data.py -s AKA-017_GIM-024 -v /nas/longleaf/home/adaigle/TEforest/workflow/scripts/use_model.py
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job train_validate_classifier_reference since they might be corrupted:
2L2R_classifer_reference/AKA-017_GIM-024.txt, 3L3RX_classifer_reference/AKA-017_GIM-024.txt
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-05-29T135120.161358.snakemake.log
WorkflowError:
At least one job did not complete successfully.
